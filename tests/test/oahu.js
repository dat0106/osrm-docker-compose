const axios = require('axios');
const assert = require('assert');


const oahuPairs = [
    [[21.4406368, -157.7488912], [21.4510671, -157.7769494]],
    [[21.4440171, -157.7438717], [21.3744792, -157.9726482]],
    [[21.440637, -157.748891], [21.3740925, -157.9714546]],
    [[21.44090759412, -157.75244122692], [21.373982130142, -157.97122198534]],
    [[21.447534391561, -157.75229379949], [21.377792, -157.9710175]],
    [[21.446012, -157.754125], [21.3740866, -157.971425]],
    [[21.440980790335, -157.75196048435], [21.3770904, -157.9746395]],
    [[21.446012339087, -157.75412470449], [21.3740687, -157.9689417]],
    [[21.443477443779, -157.74957909937], [21.482491791102,-158.0757519605]],
    [[21.44070950307, -157.75164550299], [21.482528567297,-158.07579515631]],
    [[21.441948526577, -157.74786993934], [21.482497229839,-158.07576643357]],
    [[21.4412627, -157.7391684], [21.482480969055,-158.07575455855]],
    [[21.4467372, -157.7392358], [21.482538617981,-158.07579073416]],
    [[21.442968, -157.755481], [21.482211543735,-158.07574733354]],
    [[21.4386332, -157.7514564], [21.482786044636,-158.07394966814]],
    [[21.4521, -157.76994], [21.484871170146,-158.08377152642]],
    [[21.44633336075, -157.73495543365], [21.484055727372,-158.05199060721]],
    [[21.446083109275, -157.73481285228], [21.487217717594,-158.06911493554]],
    [[21.446083109274, -157.73495543365], [21.488034222295,-158.07724775761]],
    [[21.446235168987, -157.7349025094], [21.483224,-158.0515102]],
    [[21.449378012363, -157.73568099883], [21.498084739937,-158.06795683137]],
    [[21.4491721, -157.7357254], [21.492130873434,-158.07973399667]],
    [[21.491697024494,-158.05394125155], [21.4975678,-158.055782]],
    [[21.4945579,-158.0619713], [21.4918431,-158.0744876]],
    [[21.492855008373,-158.05468644486], [21.49342217038,-158.05490652304]],
    [[21.493422436108,-158.05491334477], [21.4919144,-158.0781373]],
    [[21.493626052615,-158.05392137644], [21.498133462294,-158.05427399556]],
    [[21.490208658441,-158.06774147164], [21.491072466267,-158.06789645613]],
    [[21.498034621086,-158.06801939612], [21.498109165126,-158.06795480233]],
    [[21.498153972467,-158.06816975858], [21.497733707248,-158.06821629636]],
    [[21.497257127421,-158.06843993901], [21.496757038288,-158.06845296353]],
    [[21.492307547614,-158.05561100342], [21.497840347478,-158.05989157738]],
    [[21.49048563577,-158.06905500118,], [21.490844664278,-158.06887692396]]
];

describe('It routes bad oahu points', function () {
    describe('Routing', function () {
        oahuPairs.forEach((pair) => {
            const [[lat1, lon1], [lat2, lon2]] = pair;
            it('gets a valid route response for oahu', async function () {
                const response = await axios.get(`http://localhost:5000/route/v1/driving/${lon1},${lat1};${lon2},${lat2}?overview=false&alternatives=true&steps=true&hints=;`, {
                    headers: {
                        'Allow-Access-Origin': '*'
                    },
                    cors: true
                });
                const data = response.data.routes;
                console.warn(data);
                assert.notEqual(data, null);
            });
        });
    })
});

